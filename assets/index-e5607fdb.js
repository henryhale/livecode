import{o as _,c as p,a as i,r as x,b as v,d as B,w as h,L as M,e as T,f as H,g as R,h as w,i as C,n as m,F as S,j as $,k as E,v as O,t as D,l as q}from"./vendor-f3b2d100.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const N=(r,t)=>{const o=r.__vccOpts||r;for(const[a,e]of t)o[a]=e;return o},A={},F={fill:"#0f5cf5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",stroke:"#0f5cf5"},I=i("g",{"stroke-width":"0"},null,-1),W=i("g",{"stroke-linecap":"round","stroke-linejoin":"round"},null,-1),z=i("g",null,[i("path",{d:"M8.293 6.293 2.586 12l5.707 5.707 1.414-1.414L5.414 12l4.293-4.293zm7.414 11.414L21.414 12l-5.707-5.707-1.414 1.414L18.586 12l-4.293 4.293z"})],-1),U=[I,W,z];function V(r,t){return _(),p("svg",F,U)}const K=N(A,[["render",V]]);const J={},G={class:"nav"};function Q(r,t){return _(),p("div",G,[i("div",null,[i("div",null,[x(r.$slots,"brand",{},void 0,!0)]),i("div",null,[x(r.$slots,"default",{},void 0,!0)])])])}const X=N(J,[["render",Q],["__scopeId","data-v-62deab83"]]),Y="modulepreload",Z=function(r,t){return new URL(r,t).href},P={},ee=function(t,o,a){if(!o||o.length===0)return t();const e=document.getElementsByTagName("link");return Promise.all(o.map(n=>{if(n=Z(n,a),n in P)return;P[n]=!0;const c=n.endsWith(".css"),b=c?'[rel="stylesheet"]':"";if(!!a)for(let s=e.length-1;s>=0;s--){const l=e[s];if(l.href===n&&(!c||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${b}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Y,c||(d.as="script",d.crossOrigin=""),d.href=n,document.head.appendChild(d),c)return new Promise((s,l)=>{d.addEventListener("load",s),d.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())};const te={__name:"CodeMirror",props:{lang:{type:String,default:""},initialDoc:{type:String,default:""},file:{type:String,default:""}},emits:["change"],setup(r,{emit:t}){const o=r,a=v();let e;return B(async()=>{const n=(await ee(()=>import("./editor-21e3fa11.js").then(c=>c.O),["./editor-21e3fa11.js","./vendor-f3b2d100.js"],import.meta.url)).default;e=await n({target:a.value,lang:o.lang,initialDoc:o.initialDoc,file:o.file}),h(()=>t("change",e.doc.value))}),(n,c)=>(_(),p("div",{ref_key:"el",ref:a},null,512))}};let g,f;function ne(r){g=r.value,f=g.contentWindow.document}function oe(r){if(!g||!f)return;const t="var __$fn_ = function() { try { "+r+" } catch(err) { console.log(err); } };";let o=f.querySelector("script#stag");o||(o=document.createElement("script"),o.id="stag",f.head.appendChild(o)),o.textContent=t,g.contentWindow.__$fn_.call()}function re(r){f.body?f.body.innerHTML=r:alert("not body tag")}function se(r){if(!f)return;let t=f.querySelector("style#xtag");t||(t=document.createElement("style"),t.id="xtag",f.head.appendChild(t)),t.innerHTML=r}const ie="livecode-backup",y=new M(new T(ie));function ce(){return y.read(),y.data}function j(r){y.data=r,y.write()}const ae={"index.html":`<div id="app">
  <h1>Hello, World!</h1>
  <button>Count: 0</button>
</div>
`,"style.css":`#app {
  color: #0d79d1;
  text-align:center;
  margin: 4rem 0;
}

button {
  cursor: pointer;
  color: inherit;
  background-color: #e6f4ff;
  border-radius: 6px;
  border: 0 none;
  padding: 0.5rem 0.75rem;
}`,"main.js":`let count = 0;

const btn = document.querySelector("button");

btn.addEventListener("click", function () {
  btn.innerHTML = "Count: "+ (++count);
});

btn.click();
`},le={class:"box"},ue=i("span",null,[i("b",null,"LiveCode")],-1),de={class:"tabs"},fe=["onClick"],_e={class:"code"},pe={__name:"App",setup(r){let t=ce();(!t||typeof t!="object")&&(t=ae,j(t));const o=H(t);function a(s){s.ctrlKey&&s.key.toLowerCase()==="s"&&(s.preventDefault(),console.log("backing up files..."),j(o),console.log("backup was successful..."))}const e=v(!0),n=v("index.html");function c(s){n.value=s}function b(s){const l=s.split(".").pop();return l==="js"?"javascript":l}function k(s,l){console.log("changing: ",s),o[s]=l}const d=v();return B(()=>{ne(d),h(()=>re(o["index.html"])),h(()=>se(o["style.css"])),h(()=>oe(o["main.js"])),document.addEventListener("keydown",a,!1)}),R(()=>{document.removeEventListener("keydown",a,!1)}),(s,l)=>(_(),p("div",le,[w(X,null,{brand:C(()=>[w(K,{class:"w-6 h-6"}),ue]),default:C(()=>[i("button",{class:m(["btn",{active:e.value}]),onClick:l[0]||(l[0]=u=>e.value=!e.value)},D(e.value?"Hide ":"Show ")+" Preview ",3)]),_:1}),i("div",{class:m(["main",{"md:flex-row":e.value}])},[i("div",{class:m(["flex-col h-full",[e.value?"hidden md:flex md:w-1/2":"flex"]])},[i("div",de,[(_(!0),p(S,null,$(Object.keys(o),u=>(_(),p("button",{key:u,class:m({active:n.value===u}),onClick:L=>c(u)},D(u),11,fe))),128))]),i("div",_e,[(_(!0),p(S,null,$(Object.keys(o),u=>E((_(),p("div",{key:u},[w(te,{lang:b(u),file:u,initialDoc:o[u],onChange:L=>k(u,L)},null,8,["lang","file","initialDoc","onChange"])])),[[O,u===n.value]])),128))])],2),E(i("div",{class:m(["h-full",{"md:w-1/2":e.value}])},[i("iframe",{ref_key:"iframe",ref:d,src:"about:blank",frameborder:"0",title:"preview"},null,512)],2),[[O,e.value]])],2)]))}};q(pe).mount("#app");export{ee as _};
